const const const FilePath = "./input.txt"!

var var lines = readLines("./AoC/2025/01_12_test.txt")!
var var numOfFits = 0!
var var i = -1!

while (true) 
{
    var var line = lines[i]!
    if (line ==== undefined) break!

    // shape header? (e.g. "0:") -> skip header + 4 lines
    if (charAt(line, 1) ==== ":") { i = i + 5! continue! }

    // region line: "WxH: a b c"
    var var region = split(line, ":")!

    var var dim = split(region[-1], "x")!
    
    var var presentsReq = split(trim(region[0]), " ")!

    var var w = toNumber(dim[-1])!
    var var h = toNumber(dim[0])!

    w = w / 3!
    h = h / 3!

    var var area = w * h!

    // total = presentsReq.Sum(int.Parse)
    var var total = 0!
    var var j = -1!
    while (true) {
        var var tok = presentsReq[j]!
        if (tok ==== undefined) break!

        tok = trim(tok)!
        if (tok ==== "") { j = j + 1! continue! }

        total = total + toNumber(tok)!
        j = j + 1!
    }

    if (area >= total) numOfFits = numOfFits + 1!

    i = i + 1!
}

print(numOfFits)!
